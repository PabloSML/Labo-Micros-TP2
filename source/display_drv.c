/***************************************************************************//**
  @file     display_drv.c
  @brief    DISPLAY Driver Source File.
  @author   Grupo 4
 ******************************************************************************/

/*******************************************************************************
 * INCLUDE HEADER FILES
 ******************************************************************************/

#include "7seg_drv.h"

/*******************************************************************************
 * CONSTANT AND MACRO DEFINITIONS USING #DEFINE
 ******************************************************************************/

#define DISPLAY_DEVELOPMENT_MODE 1

/*******************************************************************************
 * ENUMERATIONS AND STRUCTURES AND TYPEDEFS
 ******************************************************************************/



/*******************************************************************************
 * VARIABLES WITH GLOBAL SCOPE
 ******************************************************************************/

/*******************************************************************************
 * FUNCTION PROTOTYPES FOR PRIVATE FUNCTIONS WITH FILE LEVEL SCOPE
 ******************************************************************************/



/*******************************************************************************
 * ROM CONST VARIABLES WITH FILE LEVEL SCOPE
 ******************************************************************************/

/*******************************************************************************
 * STATIC VARIABLES AND CONST VARIABLES WITH FILE LEVEL SCOPE
 ******************************************************************************/
static tim_id_t timerId;
static ttick_t timerTicks = DISPLAY_ISR_PERIOD;

/*******************************************************************************
 *******************************************************************************
                        GLOBAL FUNCTION DEFINITIONS
 *******************************************************************************
 ******************************************************************************/

bool displayInit(void)
{
  static bool yaInit = false;
  if (!yaInit) // init peripheral
  {
    if(sevenSegInit(void))
    {
      timerInit();
      timerId = timerGetId();
#ifdef DISPLAY_DEVELOPMENT_MODE
      if(timerId != TIMER_INVALID_ID)
#endif
      {
        timerStart(timerId, timerTicks, TIM_MODE_PERIODIC, &display_isr);
        yaInit = true;
      }
    }
  }
  return yaInit;
}

/*******************************************************************************
 *******************************************************************************
                        LOCAL FUNCTION DEFINITIONS
 *******************************************************************************
 ******************************************************************************/


/******************************************************************************/
